# set single user defined variable
"set @foo = 42"
{
  "QueryType": "SET",
  "Original": "set @foo = 42",
  "Instructions": {
    "OperatorType": "Set",
    "Ops": [
      {
        "Type": "UserDefinedVariable",
        "Name": "foo",
        "Expr": "INT64(42)"
      }
    ],
    "Inputs": [
      {
        "OperatorType": "SingleRow"
      }
    ]
  }
}

# set multi user defined variable
"set @foo = 42, @bar = @foo"
{
  "QueryType": "SET",
  "Original": "set @foo = 42, @bar = @foo",
  "Instructions": {
    "OperatorType": "Set",
    "Ops": [
      {
        "Type": "UserDefinedVariable",
        "Name": "foo",
        "Expr": "INT64(42)"
      },
      {
        "Type": "UserDefinedVariable",
        "Name": "bar",
        "Expr": ":__vtudvfoo"
      }
    ],
    "Inputs": [
      {
        "OperatorType": "SingleRow"
      }
    ]
  }
}

# set multi user defined variable with complex expression
"set @foo = 42, @bar = @foo + 1"
{
  "QueryType": "SET",
  "Original": "set @foo = 42, @bar = @foo + 1",
  "Instructions": {
    "OperatorType": "Set",
    "Ops": [
      {
        "Type": "UserDefinedVariable",
        "Name": "foo",
        "Expr": "INT64(42)"
      },
      {
        "Type": "UserDefinedVariable",
        "Name": "bar",
        "Expr": ":__vtudvfoo + INT64(1)"
      }
    ],
    "Inputs": [
      {
        "OperatorType": "SingleRow"
      }
    ]
  }
}
