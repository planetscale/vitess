[
  {
    "comment": "Add your test case here for debugging and run go test -run=One.",
    "query": "select 1 from (select id+23 as foo from user) derived where foo = 1",
    "plan": {
      "QueryType": "SELECT",
      "Original": "select 1 from (select id+23 as foo from user) derived where foo = 1",
      "Instructions": {
        "OperatorType": "Route",
        "Variant": "Scatter",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "FieldQuery": "select 1 from (select id + 23 as foo from `user` where 1 != 1) as derived where 1 != 1",
        "Query": "select 1 from (select id + 23 as foo from `user` where id + 23 = 1) as derived",
        "Table": "`user`"
      },
      "TablesUsed": [
        "user.user"
      ]
    }
  }
]